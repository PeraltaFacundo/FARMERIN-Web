_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[45],{LW7W:function(e,t,a){"use strict";a.r(t);var c=a("rePB"),r=a("q1tI"),n=a.n(r),o=a("UgP8"),b=a("jIy0"),l=a("hdTg"),i=a("v7au"),u=(a("WE+m"),a("cWnB")),s=a("dDCJ"),O=a("AINe"),j=a("sWYD"),p=a("qKvR"),d=(n.a.createElement,function(e){var t=e.animal,a=(t.id,t.idtambo,t.rp),c=t.erp,o=t.racion,b=t.lactancia,l=(t.ingreso,t.observaciones,t.estpro),d=t.estrep,f=(t.fparto,t.fservicio),v=t.categoria,g=t.uc,h=t.ca,m=t.rodeo,C=t.nservicio,w=t.diasLact,S=Object(r.useState)(!1),L=S[0],E=S[1],y=Object(r.useState)({}),D=y[0],P=y[1];return Object(r.useEffect)((function(){var e;try{e=Object(j.a)(new Date(f),"dd/MM/yy")}catch(t){e=""}P({fser:e})}),[]),Object(p.b)(n.a.Fragment,null,Object(p.b)("tr",null,Object(p.b)("td",null,a),Object(p.b)("td",null,v),Object(p.b)("td",null,m),Object(p.b)("td",null,d),Object(p.b)("td",null,l),Object(p.b)("td",null,b),Object(p.b)("td",null,g),Object(p.b)("td",null,h),Object(p.b)("td",null,w),Object(p.b)("td",null,o),Object(p.b)("td",null,C),Object(p.b)("td",null,D.fser),Object(p.b)("td",null,c),Object(p.b)("td",null,Object(p.b)(u.a,{variant:"link",onClick:function(){E(!0)}},Object(p.b)(s.a,{placement:"bottom",overlay:Object(p.b)(O.a,null,"Ficha")},Object(p.b)(i.a,{size:22}))))),L&&Object(p.b)(FichaHIstorial,{animal:t,show:L,setShow:E}))}),f=a("25O0"),v=a("eKFT"),g=a("ma3e"),h=a("3Z9Z"),m=a("JI6e"),C=a("QojX"),w=a("T/rR"),S=a("TUci"),L=a("MBJH"),E=a("NoME"),y=a("C/H6"),D=a.n(y);n.a.createElement;function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,c)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.default=function(){var e=Object(r.useState)([]),t=e[0],a=e[1],n=Object(r.useState)([]),s=n[0],O=n[1],j=Object(r.useState)([]),y=j[0],P=j[1],R=Object(r.useState)({idTambo:"",rp:"",estpro:"todos",estrep:"todos",categoria:"todos",rodeo:0}),k=R[0],T=R[1],I=0,M=Object(r.useState)(!1),z=M[0],N=M[1],_=k.rp,q=k.estpro,x=k.estrep,G=k.categoria,H=k.rodeo,A=(k.campoorden,k.tipoorden,Object(r.useContext)(o.a)),J=A.firebase,W=A.tamboSel,B=(A.archivoExcel,A.guardarArchivoExcel,Object(r.useState)("asc")),V=B[0],K=B[1],U=Object(r.useState)("asc"),Y=U[0],X=U[1],Z=Object(r.useState)("asc"),Q=Z[0],$=Z[1],ee=Object(r.useState)("asc"),te=ee[0],ae=ee[1],ce=Object(r.useState)("asc"),re=ce[0],ne=ce[1],oe=Object(r.useState)("asc"),be=oe[0],le=oe[1],ie=Object(r.useState)("asc"),ue=ie[0],se=ie[1],Oe=Object(r.useState)("asc"),je=Oe[0],pe=Oe[1],de=Object(r.useState)("asc"),fe=de[0],ve=de[1],ge=Object(r.useState)("asc"),he=(ge[0],ge[1],D.a.ExcelFile),me=D.a.ExcelFile.ExcelSheet,Ce=D.a.ExcelFile.ExcelColumn;Object(r.useEffect)((function(){!function(){if(N(!0),W)try{J.db.collection("animal").where("idtambo","==",W.id).where("fbaja","==","").orderBy("rp").get().then(Se)}catch(e){console.log(e)}N(!1)}(),Le(),function(){N(!0),W&&J.db.collection("parametro").where("idtambo","==",W.id).orderBy("orden").get().then(Ee);N(!1)}()}),[W]);var we=function(e){T(F(F({},k),{},Object(c.a)({},e.target.name,e.target.value)))};function Se(e){var t=e.docs.map((function(e){if("En Orde\xf1e"!=e.data().estpro)I=0;else try{I=Object(E.a)(Date.now(),new Date(e.data().fparto))}catch(t){I=0}return F({id:e.id,diasLact:I},e.data())}));P(t)}function Le(){var e=y.filter((function(e){return!0}));if(""!=_){var t=_.toLowerCase();e=e.filter((function(e){return e.rp&&e.erp?e.rp.toString().toLowerCase().includes(t)||e.erp.toString().toLowerCase().includes(t):e.rp?e.rp.toString().toLowerCase().includes(t):e.erp&&e.erp.toString().toLowerCase().includes(t)}))}if("todos"!=q){var c=q.toLowerCase();e=e.filter((function(e){return e.estpro.toLowerCase().includes(c)}))}if("todos"!=x){var r=x.toLowerCase();e=e.filter((function(e){return e.estrep.toLowerCase().includes(r)}))}if("todos"!=G){var n=G.toLowerCase();e=e.filter((function(e){return e.categoria.toLowerCase().includes(n)}))}0!=H&&(e=e.filter((function(e){return e.rodeo==H&&e}))),a(e)}function Ee(e){var t=e.docs.map((function(e){return F({id:e.id},e.data())})),a=0,c=[];t.forEach((function(e){a!=e.orden&&(a=e.orden,c.push(e.orden))})),O(c)}return Object(p.b)(l.a,{titulo:"Reportes"},Object(p.b)(b.a,null,Object(p.b)(h.a,null,Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"Total: ",t.length)),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),Object(p.b)(m.a,{lg:!0},Object(p.b)("h6",null,"\xa0")),t.length>0?Object(p.b)(m.a,{lg:!0},Object(p.b)(he,{element:Object(p.b)(u.a,{variant:"success",type:"submit",block:!0},"Excel"),filename:"Animales"},Object(p.b)(me,{data:t,name:"Animales"},Object(p.b)(Ce,{label:"RP",value:"rp"}),Object(p.b)(Ce,{label:"Grupo",value:"categoria"}),Object(p.b)(Ce,{label:"Rodeo",value:"rodeo"}),Object(p.b)(Ce,{label:"Est.Rep.",value:"estrep"}),Object(p.b)(Ce,{label:"Est.Prod.",value:"estpro"}),Object(p.b)(Ce,{label:"Nro.Lact.",value:"lactancia"}),Object(p.b)(Ce,{label:"Le.UC",value:"uc"}),Object(p.b)(Ce,{label:"Le.CA",value:"ca"}),Object(p.b)(Ce,{label:"Dias Lact.",value:"diasLact"}),Object(p.b)(Ce,{label:"Raci\xf3n(Kg)",value:"racion"}),Object(p.b)(Ce,{label:"N\xb0Serv.",value:"nservicio"}),Object(p.b)(Ce,{label:"F.Serv.",value:"fservicio"}),Object(p.b)(Ce,{label:"eRP",value:"erp"})))):Object(p.b)(m.a,{lg:!0})),Object(p.b)(h.a,null,Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a,{onSubmit:function(e){e.preventDefault(),Le()}},Object(p.b)(h.a,null,Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a.Group,null,Object(p.b)(C.a.Label,null,"RP / eRP"),Object(p.b)(C.a.Control,{type:"string",id:"rp",placeholder:"RP / eRP",name:"rp",value:_,onChange:we}))),Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a.Group,null,Object(p.b)(C.a.Label,null,"Est. Productivo"),Object(p.b)(C.a.Control,{as:"select",id:"estpro",name:"estpro",onChange:we,required:!0},Object(p.b)("option",{value:"todos"},"Todos"),Object(p.b)("option",{value:"En Orde\xf1e"},"En Orde\xf1e"),Object(p.b)("option",{value:"seca"},"Seca"),Object(p.b)("option",{value:"Vq.p/servicio"},"Vq.p/servicio"),Object(p.b)("option",{value:"cria"},"Cria"),Object(p.b)("option",{value:"rechazo"},"Rechazo")))),Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a.Group,null,Object(p.b)(C.a.Label,null,"Est. Reprod."),Object(p.b)(C.a.Control,{as:"select",id:"estrep",name:"estrep",onChange:we,required:!0},Object(p.b)("option",{value:"todos"},"Todas"),Object(p.b)("option",{value:"pre\xf1ada"},"Pre\xf1adas"),Object(p.b)("option",{value:"vacia"},"Vacias")))),Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a.Group,null,Object(p.b)(C.a.Label,null,"Grupo"),Object(p.b)(C.a.Control,{as:"select",id:"categoria",name:"categoria",onChange:we,required:!0},Object(p.b)("option",{value:"todos"},"Todas"),Object(p.b)("option",{value:"vaca"},"Vacas"),Object(p.b)("option",{value:"vaquillona"},"Vaquillonas")))),Object(p.b)(m.a,{lg:!0},Object(p.b)(C.a.Group,null,Object(p.b)(C.a.Label,null,"Rodeo"),Object(p.b)(C.a.Control,{as:"select",id:"rodeo",name:"rodeo",onChange:we,required:!0},Object(p.b)("option",{value:"0"},"Todos"),0!=s.length&&s.map((function(e){return Object(p.b)("option",{key:e,value:e},e)}))))),Object(p.b)(m.a,{lg:!0},Object(p.b)("h5",null,"\xa0"),Object(p.b)(C.a.Group,null,Object(p.b)(u.a,{variant:"info",type:"submit",block:!0},Object(p.b)(i.j,{size:22}),"\xa0 Buscar")))))))),z?Object(p.b)(b.g,null," ",Object(p.b)(w.a,{animation:"border",variant:"info"})):W?0==t.length?Object(p.b)(b.h,null,Object(p.b)(S.a,{variant:"warning"},"No se encontraron resultados")):Object(p.b)(b.b,null,Object(p.b)(v.a,{height:360},Object(p.b)(L.a,{responsive:!0},Object(p.b)("thead",null,Object(p.b)("tr",null,Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==V){var t=y.sort((function(e,t){return e.rp<t.rp?1:-1}));K("desc"),P(t)}else{var a=y.sort((function(e,t){return e.rp>t.rp?1:-1}));K("asc"),P(a)}Le()}},"RP  ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==te){var t=y.sort((function(e,t){return e.categoria<t.categoria?1:-1}));ae("desc"),P(t)}else{var a=y.sort((function(e,t){return e.categoria>t.categoria?1:-1}));ae("asc"),P(a)}Le()}},"Grupo ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==re){var t=y.sort((function(e,t){return e.rodeo<t.rodeo?1:-1}));ne("desc"),P(t)}else{var a=y.sort((function(e,t){return e.rodeo>t.rodeo?1:-1}));ne("asc"),P(a)}Le()}},"Rodeo ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==Y){var t=y.sort((function(e,t){return e.estrep<t.estrep?1:-1}));X("desc"),P(t)}else{var a=y.sort((function(e,t){return e.estrep>t.estrep?1:-1}));X("asc"),P(a)}Le()}},"Est. Rep. ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==Q){var t=y.sort((function(e,t){return e.estpro<t.estpro?1:-1}));$("desc"),P(t)}else{var a=y.sort((function(e,t){return e.estpro>t.estpro?1:-1}));$("asc"),P(a)}Le()}},"Est. Prod. ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==be){var t=y.sort((function(e,t){return parseInt(e.lactancia)<parseInt(t.lactancia)?1:-1}));le("desc"),P(t)}else{var a=y.sort((function(e,t){return parseInt(e.lactancia)>parseInt(t.lactancia)?1:-1}));le("asc"),P(a)}Le()}},"Lact.",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==ue){var t=y.sort((function(e,t){return parseFloat(e.uc)<parseFloat(t.uc)?1:-1}));se("desc"),P(t)}else{var a=y.sort((function(e,t){return parseFloat(e.uc)>parseFloat(t.uc)?1:-1}));se("asc"),P(a)}Le()}},"Le.UC ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==je){var t=y.sort((function(e,t){return parseFloat(e.ca)<parseFloat(t.ca)?1:-1}));pe("desc"),P(t)}else{var a=y.sort((function(e,t){return parseFloat(e.ca)>parseFloat(t.ca)?1:-1}));pe("asc"),P(a)}Le()}},"Le.CA ",Object(p.b)(g.i,{size:15})),Object(p.b)("th",{onClick:function(e){if(e.preventDefault(),"asc"==fe){var t=y.sort((function(e,t){return parseInt(e.diasLact)<parseInt(t.diasLact)?1:-1}));ve("desc"),P(t)}else{var a=y.sort((function(e,t){return parseInt(e.diasLact)>parseInt(t.diasLact)?1:-1}));ve("asc"),P(a)}Le()}},"D\xedas Lact.",Object(p.b)(g.i,{size:15})),Object(p.b)("th",null,"Raci\xf3n(Kg)"),Object(p.b)("th",null,"N\xb0Serv."),Object(p.b)("th",null,"F.Serv."),Object(p.b)("th",null,"eRP"),Object(p.b)("th",null,"M\xe1s..."))),Object(p.b)("tbody",null,t.map((function(e){return Object(p.b)(d,{key:e.id,animal:e})})))))):Object(p.b)(f.a,null))}},NoME:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var c=a("/Tr7"),r=a("JCDJ"),n=a("jIYg");function o(e){Object(n.a)(1,arguments);var t=Object(c.a)(e);return t.setHours(0,0,0,0),t}function b(e,t){Object(n.a)(2,arguments);var a=o(e),c=o(t),b=a.getTime()-Object(r.a)(a),l=c.getTime()-Object(r.a)(c);return Math.round((b-l)/864e5)}function l(e,t){var a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}function i(e,t){Object(n.a)(2,arguments);var a=Object(c.a)(e),r=Object(c.a)(t),o=l(a,r),i=Math.abs(b(a,r));a.setDate(a.getDate()-o*i);var u=Number(l(a,r)===-o),s=o*(i-u);return 0===s?0:s}},jFHh:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gralAnimales",function(){return a("LW7W")}])}},[["jFHh",1,2,3,4,9,12,10,13,16,17,25,24,23,0,5,6,7,8,11,14,15,18,20,19,22]]]);